{% load i18n %}
<div class="js-inline-admin-formset inline-group" id="{{ inline_admin_formset.formset.prefix }}-group"
     data-inline-type="tabular"
     data-inline-formset="{{ inline_admin_formset.inline_formset_data }}">
<div class="tabular inline-related {% if forloop.last %}last-related{% endif %}">
{{ inline_admin_formset.formset.management_form }}
<fieldset class="module {{ inline_admin_formset.classes }}">
   <h2>{{ inline_admin_formset.opts.verbose_name_plural|capfirst }}</h2>
   {{ inline_admin_formset.formset.non_form_errors }}
   <table>
     <thead><tr>
     {% for field in inline_admin_formset.fields %}
       {% if not field.widget.is_hidden %}
         <th{% if field.required %} class="required"{% endif %}{% if forloop.first %} colspan="2"{% endif %}>{{ field.label|capfirst }}{% if field.help_text %}&nbsp;<img src="{% load static %}{% static 'admin/img/icon-unknown.svg' %}" class="help help-tooltip" width="10" height="10" alt="({{ field.help_text|striptags }})" title="{{ field.help_text|striptags }}">{% endif %}</th>
       {% endif %}
     {% endfor %}
     </tr></thead>

     <tbody>
     {% for inline_admin_form in inline_admin_formset %}
        <tr class="form-row {% if inline_admin_form.original %}has_original{% endif %}{% cycle ' row1' ' row2' %}">
          <td class="original" style="display:none">
            {% for fk in inline_admin_form.hidden_fields %}{{ fk.field }}{% endfor %}
          </td>
          {% for fieldset in inline_admin_form %}
            {% for line in fieldset %}
              {% for field in line %}
                <td{% if field.field.name %} class="field-{{ field.field.name }}"{% endif %}>
                {% if field.is_readonly %}
                    <p>{{ field.contents }}</p>
                {% else %}
                    {{ field.field }}
                {% endif %}
                </td>
              {% endfor %}
            {% endfor %}
          {% endfor %}
        </tr>
     {% endfor %}
     </tbody>
   </table>
</fieldset>
</div>
</div>
